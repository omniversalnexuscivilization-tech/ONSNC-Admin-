<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UNETS Admin Dashboard | ONSNC 3.0</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700&family=Playfair+Display:wght@700&family=Montserrat:wght@400;500;600;700&family=Orbitron:wght@700;900&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary: #667eea;
            --secondary: #764ba2;
            --gold: #d4af37;
            --cyan: #00d4ff;
        }
        
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Montserrat', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        /* Navbar */
        .top-navbar {
            background: white;
            padding: 12px 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        
        .navbar-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        .navbar-brand {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--primary);
            text-decoration: none;
        }
        
        .nav-right {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .user-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 700;
        }
        
        .hamburger-menu {
            width: 40px;
            height: 40px;
            background: transparent;
            border: none;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 5px;
            border-radius: 8px;
            transition: all 0.3s;
        }
        
        .hamburger-menu:hover {
            background: rgba(102, 126, 234, 0.1);
        }
        
        .hamburger-line {
            width: 25px;
            height: 3px;
            background: var(--primary);
            border-radius: 3px;
            transition: all 0.3s;
        }
        
        .hamburger-menu.active .hamburger-line:nth-child(1) {
            transform: rotate(45deg) translate(6px, 6px);
        }
        
        .hamburger-menu.active .hamburger-line:nth-child(2) {
            opacity: 0;
        }
        
        .hamburger-menu.active .hamburger-line:nth-child(3) {
            transform: rotate(-45deg) translate(6px, -6px);
        }
        
        /* Sidebar */
        .sidebar {
            position: fixed;
            top: 0;
            right: -320px;
            width: 320px;
            height: 100vh;
            background: white;
            box-shadow: -5px 0 15px rgba(0,0,0,0.2);
            transition: right 0.3s ease;
            z-index: 1001;
            overflow-y: auto;
        }
        
        .sidebar.active {
            right: 0;
        }
        
        .sidebar-header {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .close-btn {
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 20px;
        }
        
        .sidebar-menu {
            list-style: none;
            padding: 0;
        }
        
        .sidebar-menu li a {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 15px 20px;
            color: #333;
            text-decoration: none;
            border-bottom: 1px solid #f0f0f0;
            transition: all 0.3s;
        }
        
        .sidebar-menu li a:hover {
            background: linear-gradient(90deg, rgba(102, 126, 234, 0.1), transparent);
            color: var(--primary);
        }
        
        .sidebar-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s;
            z-index: 1000;
        }
        
        .sidebar-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        
        /* Main Content */
        .main-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        
        /* Dashboard Stats */
        .stats-section {
            background: white;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .stat-card {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(118, 75, 162, 0.1));
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }
        
        .stat-card i {
            font-size: 2.5rem;
            color: var(--primary);
            margin-bottom: 10px;
        }
        
        .stat-card h3 {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary);
            margin: 10px 0;
        }
        
        .stat-card p {
            color: #666;
            font-size: 0.9rem;
        }
        
        /* Form Section */
        .form-section {
            background: white;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .section-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-group label {
            display: block;
            font-weight: 600;
            color: #333;
            margin-bottom: 5px;
            font-size: 0.9rem;
        }
        
        .form-control {
            width: 100%;
            padding: 10px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 0.9rem;
            transition: all 0.3s;
        }
        
        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .btn-submit {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 12px 30px;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            font-size: 1rem;
            width: 100%;
            margin-top: 20px;
            transition: all 0.3s;
        }
        
        .btn-submit:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }
        
        /* Certificate Preview */
        .certificate-section {
            background: white;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .certificate-wrapper {
            display: flex;
            justify-content: center;
            margin-top: 20px;
        }
        
        /* A4 Certificate - Exact Size */
        .certificate-a4 {
            width: 210mm;
            height: 297mm;
            background: white;
            position: relative;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
            page-break-after: always;
        }
        
        .certificate-border {
            position: absolute;
            inset: 10mm;
            border: 3px solid;
            border-image: linear-gradient(45deg, #d4af37, #667eea, #764ba2, #d4af37) 1;
            box-shadow: inset 0 0 15px rgba(212, 175, 55, 0.2);
        }
        
        .certificate-content {
            padding: 15mm 20mm;
            height: 100%;
            display: flex;
            flex-direction: column;
        }
        
        .cert-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 8mm;
        }
        
        .globe-icon {
            font-size: 40px;
            animation: rotate 20s linear infinite;
        }
        
        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        .header-center {
            flex: 1;
            text-align: center;
            padding: 0 10mm;
        }
        
        .header-center h1 {
            font-family: 'Orbitron', sans-serif;
            font-size: 20pt;
            font-weight: 900;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 3mm;
            line-height: 1.2;
        }
        
        .header-center h2 {
            font-size: 11pt;
            color: #666;
            margin-bottom: 2mm;
        }
        
        .header-center h3 {
            font-size: 9pt;
            color: #999;
        }
        
        .header-right {
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            gap: 4mm;
        }
        
        .ulc-serial {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 3mm 6mm;
            border-radius: 4mm;
            font-family: 'Orbitron', monospace;
            font-size: 9pt;
            font-weight: 700;
        }
        
        .qr-blockchain {
            width: 25mm;
            height: 25mm;
            background: linear-gradient(135deg, #f093fb, #f5576c);
            border-radius: 4mm;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .blockchain-chip {
            position: absolute;
            bottom: -2mm;
            background: #00d4ff;
            color: white;
            padding: 1mm 3mm;
            border-radius: 3mm;
            font-size: 6pt;
            font-weight: 700;
        }
        
        .cert-title {
            font-family: 'Cinzel', serif;
            font-size: 28pt;
            font-weight: 700;
            text-align: center;
            background: linear-gradient(135deg, #d4af37, #f4e5a1);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin: 6mm 0 4mm 0;
            letter-spacing: 2pt;
        }
        
        .badge-name {
            text-align: center;
            font-size: 11pt;
            color: #667eea;
            font-weight: 600;
            margin-bottom: 6mm;
        }
        
        .learner-section {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.05), rgba(118, 75, 162, 0.05));
            border-radius: 6mm;
            padding: 8mm;
            margin-bottom: 6mm;
            border: 2px solid rgba(212, 175, 55, 0.3);
        }
        
        .learner-section > p {
            text-align: center;
            font-size: 11pt;
            color: #666;
            margin-bottom: 3mm;
        }
        
        .learner-name {
            font-family: 'Playfair Display', serif;
            font-size: 30pt;
            font-weight: 700;
            text-align: center;
            color: #1e3a8a;
            margin: 3mm 0;
        }
        
        .institution {
            text-align: center;
            font-size: 13pt;
            color: #666;
            margin-bottom: 5mm;
        }
        
        .learner-ids {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 3mm;
            margin: 4mm 0;
        }
        
        .id-item {
            background: white;
            padding: 3mm;
            border-radius: 3mm;
            border-left: 2px solid #667eea;
        }
        
        .id-label {
            font-weight: 600;
            color: #667eea;
            font-size: 8pt;
            display: block;
            margin-bottom: 1mm;
        }
        
        .id-value {
            font-family: 'Orbitron', monospace;
            color: #333;
            font-size: 7.5pt;
            word-break: break-all;
        }
        
        .parent-info {
            text-align: center;
            margin-top: 4mm;
            font-size: 10pt;
            color: #667eea;
        }
        
        .program-section {
            text-align: center;
            margin: 6mm 0;
        }
        
        .program-section > p {
            font-size: 11pt;
            color: #666;
            margin-bottom: 3mm;
        }
        
        .program-title {
            font-size: 18pt;
            font-weight: 700;
            color: #764ba2;
            margin: 3mm 0;
        }
        
        .cycle-info {
            font-size: 9pt;
            color: #666;
            font-style: italic;
            margin-top: 3mm;
        }
        
        .domains-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 4mm;
            margin: 8mm 0;
        }
        
        .domain {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.08), rgba(118, 75, 162, 0.08));
            padding: 5mm;
            border-radius: 4mm;
            text-align: center;
            border: 1px solid rgba(212, 175, 55, 0.3);
        }
        
        .domain-name {
            font-weight: 600;
            color: #667eea;
            font-size: 9pt;
            display: block;
            margin-bottom: 2mm;
        }
        
        .domain-value {
            font-size: 16pt;
            font-weight: 700;
            color: #d4af37;
        }
        
        .cert-footer {
            margin-top: auto;
            padding-top: 6mm;
            border-top: 2px solid rgba(212, 175, 55, 0.3);
            display: flex;
            justify-content: space-between;
            align-items: flex-end;
        }
        
        .footer-left p {
            font-size: 9pt;
            color: #666;
            margin-bottom: 3mm;
        }
        
        .signature {
            font-family: 'Playfair Display', serif;
            font-size: 18pt;
            color: #1e3a8a;
            font-weight: 700;
            font-style: italic;
            margin-bottom: 2mm;
        }
        
        .verified-by {
            font-size: 8pt;
            color: #666;
        }
        
        .footer-right {
            text-align: right;
        }
        
        .authority-badge {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 4mm 8mm;
            border-radius: 4mm;
            font-weight: 700;
            font-size: 11pt;
            margin-bottom: 3mm;
        }
        
        .credential-info {
            font-size: 8pt;
            color: #666;
        }
        
        .credential-info p {
            margin: 1mm 0;
        }
        
        @media print {
            body * {
                visibility: hidden;
            }
            .certificate-a4, .certificate-a4 * {
                visibility: visible;
            }
            .certificate-a4 {
                position: fixed;
                left: 0;
                top: 0;
                margin: 0;
                box-shadow: none;
            }
        }
        
        @media (max-width: 768px) {
            .certificate-a4 {
                transform: scale(0.4);
                transform-origin: top center;
            }
        }
    </style>
</head>
<body>
    <!-- Navbar -->
    <nav class="top-navbar">
        <div class="navbar-content">
            <a href="#" class="navbar-brand">
                <i class="fas fa-graduation-cap"></i> UNETS Admin
            </a>
            <div class="nav-right">
                <div class="user-info">
                    <div class="user-avatar">AD</div>
                    <div class="d-none d-md-block">
                        <div style="font-weight:600;font-size:0.9rem;color:#333;">Admin User</div>
                        <div style="font-size:0.75rem;color:#666;">Super Administrator</div>
                    </div>
                </div>
                <button class="hamburger-menu" id="hamburgerBtn">
                    <span class="hamburger-line"></span>
                    <span class="hamburger-line"></span>
                    <span class="hamburger-line"></span>
                </button>
            </div>
        </div>
    </nav>

    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h3>Navigation Menu</h3>
            <button class="close-btn" id="closeBtn">&times;</button>
        </div>
        <ul class="sidebar-menu">
            <li><a href="#"><i class="fas fa-tachometer-alt"></i> Dashboard</a></li>
            <li><a href="#"><i class="fas fa-user-graduate"></i> Learners</a></li>
            <li><a href="#"><i class="fas fa-certificate"></i> Certificates</a></li>
            <li><a href="#"><i class="fas fa-passport"></i> Life Passports</a></li>
            <li><a href="#"><i class="fas fa-chart-line"></i> Reports</a></li>
            <li><a href="#"><i class="fas fa-cogs"></i> Settings</a></li>
        </ul>
    </div>
    <div class="sidebar-overlay" id="overlay"></div>

    <!-- Main Content -->
    <div class="main-content">
        <!-- 1. Dashboard Stats -->
        <div class="stats-section">
            <h2 class="section-title"><i class="fas fa-chart-bar"></i> Admin Dashboard</h2>
            <div class="stats-grid">
                <div class="stat-card">
                    <i class="fas fa-user-graduate"></i>
                    <h3>1,248</h3>
                    <p>Total Learners</p>
                </div>
                <div class="stat-card">
                    <i class="fas fa-certificate"></i>
                    <h3>856</h3>
                    <p>Certificates Issued</p>
                </div>
                <div class="stat-card">
                    <i class="fas fa-chart-line"></i>
                    <h3>94%</h3>
                    <p>Completion Rate</p>
                </div>
                <div class="stat-card">
                    <i class="fas fa-tasks"></i>
                    <h3>42</h3>
                    <p>Pending Actions</p>
                </div>
            </div>
        </div>

        <!-- 2. Data Entry Form -->
        <div class="form-section">
            <h2 class="section-title"><i class="fas fa-edit"></i> ULC Certificate Data Entry Form</h2>
            <form id="certificateForm">
                <div class="form-grid">
                    <div class="form-group">
                        <label>Learner Name *</label>
                        <input type="text" class="form-control" id="learnerName" required>
                    </div>
                    <div class="form-group">
                        <label>Parent's Name *</label>
                        <input type="text" class="form-control" id="parentName" required>
                    </div>
                    <div class="form-group">
                        <label>Place Name *</label>
                        <input type="text" class="form-control" id="placeName" required>
                    </div>
                    <div class="form-group">
                        <label>Institution/Hub *</label>
                        <input type="text" class="form-control" id="institution" required>
                    </div>
                    <div class="form-group">
                        <label>Program Title *</label>
                        <input type="text" class="form-control" id="programTitle" required>
                    </div>
                    <div class="form-group">
                        <label>Badge Name *</label>
                        <input type="text" class="form-control" id="badgeName" required>
                    </div>
                    <div class="form-group">
                        <label>ULP ID</label>
                        <input type="text" class="form-control" id="ulpId" readonly>
                    </div>
                    <div class="form-group">
                        <label>ULC ID</label>
                        <input type="text" class="form-control" id="ulcId" readonly>
                    </div>
                    <div class="form-group">
                        <label>ULCI ID</label>
                        <input type="text" class="form-control" id="ulciId" readonly>
                    </div>
                    <div class="form-group">
                        <label>ULCI Score</label>
                        <input type="text" class="form-control" id="ulciScore" placeholder="95%">
                    </div>
                    <div class="form-group">
                        <label>Index Level</label>
                        <select class="form-control" id="indexLevel">
                            <option>Level 1</option>
                            <option>Level 2</option>
                            <option>Level 3</option>
                            <option>Level 4</option>
                            <option>Level 5</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Knowledge Score</label>
                        <input type="text" class="form-control" id="knowledgeScore" placeholder="95%">
                    </div>
                    <div class="form-group">
                        <label>Creativity</label>
                        <input type="text" class="form-control" id="creativity" placeholder="Advanced">
                    </div>
                    <div class="form-group">
                        <label>Collaboration</label>
                        <input type="text" class="form-control" id="collaboration" placeholder="88%">
                    </div>
                    <div class="form-group">
                        <label>Leadership</label>
                        <input type="text" class="form-control" id="leadership" placeholder="High Impact">
                    </div>
                    <div class="form-group">
                        <label>Date Issued</label>
                        <input type="date" class="form-control" id="dateIssued">
                    </div>
                    <div class="form-group">
                        <label>Verified By</label>
                        <input type="text" class="form-control" id="verifiedBy">
                    </div>
                </div>
                <button type="submit" class="btn-submit">
                    <i class="fas fa-save"></i> Save & Generate Certificate
                </button>
            </form>
        </div>

        <!-- 3. Certificate Template -->
        <div class="certificate-section">
            <h2 class="section-title"><i class="fas fa-certificate"></i> ULC Certificate Template</h2>
            <div class="certificate-wrapper">
                <div class="certificate-a4" id="certificate">
                    <div class="certificate-border">
                        <div class="certificate-content">
                            <div class="cert-header">
                                <div class="globe-icon">ðŸŒŽ</div>
                                <div class="header-center">
                                    <h1>UNIVERSAL NEXUS EDUCATION TRANSFORMATION SYSTEM</h1>
                                    <h2>"Education for the Universal Nexus Human Civilization 3.0"</h2>
                                    <h3>Education 5.0 Â· Lifelong Learning Â· Scientific Humanism</h3>
                                </div>
                                <div class="header-right">
                                    <div class="ulc-serial" id="ulcSerial">ULC-2025-XXXX</div>
                                    <div class="qr-blockchain" id="qrContainer">
                                        <div class="blockchain-chip">QUANTUM BLOCKCHAIN</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="cert-title">CERTIFICATE OF ACHIEVEMENT</div>
                            <div class="badge-name" id="previewBadge">Metamorphic Badge: [Badge Name]</div>
                            
                            <div class="learner-section">
                                <p>This certifies that</p>
                                <div class="learner-name" id="previewName">[Learner Name]</div>
                                <p class="institution" id="previewInst">of [Institution]</p>
                                
                                <div class="learner-ids">
                                    <div class="id-item">
                                        <span class="id-label">ULP ID:</span>
                                        <span class="id-value" id="prevUlpId">ULP-2025-XXXX</span>
                                    </div>
                                    <div class="id-item">
                                        <span class="id-label">ULC ID:</span>
                                        <span class="id-value" id="prevUlcId">ULC-2025-XXXX</span>
                                    </div>
                                    <div class="id-item">
                                        <span class="id-label">ULCI ID:</span>
                                        <span class="id-value" id="prevUlciId">ULCI-2025-XXXX</span>
                                    </div>
                                    <div class="id-item">
                                        <span class="id-label">ULCI Score:</span>
                                        <span class="id-value" id="prevScore">95%</span>
                                    </div>
                                    <div class="id-item">
                                        <span class="id-label">Index Level:</span>
                                        <span class="id-value" id="prevLevel">Level 1</span>
                                    </div>
                                    <div class="id-item">
                                        <span class="id-label">Place:</span>
                                        <span class="id-value" id="prevPlace">City, State</span>
                                    </div>
                                </div>
                                
                                <div class="parent-info">
                                    <strong>Parent's Name:</strong> <span id="prevParent">[Parent's Name]</span>
                                </div>
                            </div>
                            
                            <div class="program-section">
                                <p>has successfully completed the program</p>
                                <div class="program-title" id="prevProgram">"[Program Title]"</div>
                                <p class="cycle-info">under the Education 5.0 â€” Discovery â†’ Integration â†’ Creation â†’ Contribution Cycle</p>
                            </div>
                            
                            <div class="domains-grid">
                                <div class="domain">
                                    <span class="domain-name">Knowledge & Inquiry</span>
                                    <div class="domain-value" id="prevKnowledge">95%</div>
                                </div>
                                <div class="domain">
                                    <span class="domain-name">Creativity & Innovation</span>
                                    <div class="domain-value" id="prevCreativity">Advanced</div>
                                </div>
                                <div class="domain">
                                    <span class="domain-name">Collaboration & Compassion</span>
                                    <div class="domain-value" id="prevCollaboration">88%</div>
                                </div>
                                <div class="domain">
                                    <span class="domain-name">Leadership & Contribution</span>
                                    <div class="domain-value" id="prevLeadership">High Impact</div>
                                </div>
                            </div>
                            
                            <div class="cert-footer">
                                <div class="footer-left">
                                    <p><strong>Issued on:</strong> <span id="prevDate">November 5, 2025</span></p>
                                    <div class="signature">Digital Signature</div>
                                    <div class="verified-by">
                                        <strong>Verified by:</strong> <span id="prevVerifier">[Mentor Name]</span>
                                    </div>
                                </div>
                                <div class="footer-right">
                                    <div class="authority-badge">Authorized by UIENC</div>
                                    <div class="credential-info">
                                        <p><strong>Credential ID:</strong> <span id="prevCredId">UNETS-CERT-2025-XXXX</span></p>
                                        <p style="color:#00d4ff;font-family:'Orbitron',monospace;font-size:7pt;">verify.education.onsnc.org</p>
                                        <p style="margin-top:2mm;"><strong>www.education.onsnc.org</strong></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div style="text-align:center;margin-top:20px;">
                <button class="btn-submit" id="downloadBtn" style="width:auto;padding:12px 40px;">
                    <i class="fas fa-download"></i> Download PDF Certificate (A4 Size)
                </button>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    
    <script>
        // Hamburger Menu
        const hamburger = document.getElementById('hamburgerBtn');
        const sidebar = document.getElementById('sidebar');
        const overlay = document.getElementById('overlay');
        const closeBtn = document.getElementById('closeBtn');
        
        hamburger.addEventListener('click', () => {
            hamburger.classList.add('active');
            sidebar.classList.add('active');
            overlay.classList.add('active');
        });
        
        const closeSidebar = () => {
            hamburger.classList.remove('active');
            sidebar.classList.remove('active');
            overlay.classList.remove('active');
        };
        
        closeBtn.addEventListener('click', closeSidebar);
        overlay.addEventListener('click', closeSidebar);
        
        // Generate IDs
        function generateID(prefix) {
            const ts = Date.now().toString(36).toUpperCase();
            const rand = Math.random().toString(36).substring(2, 6).toUpperCase();
            return `${prefix}-2025-${ts}${rand}`;
        }
        
        document.getElementById('ulpId').value = generateID('ULP');
        document.getElementById('ulcId').value = generateID('ULC');
        document.getElementById('ulciId').value = generateID('ULCI');
        document.getElementById('dateIssued').value = new Date().toISOString().split('T')[0];
        
        // Update Preview
        function updatePreview() {
            document.getElementById('ulcSerial').textContent = document.getElementById('ulcId').value;
            document.getElementById('previewBadge').textContent = `Metamorphic Badge: ${document.getElementById('badgeName').value || '[Badge Name]'}`;
            document.getElementById('previewName').textContent = document.getElementById('learnerName').value || '[Learner Name]';
            document.getElementById('previewInst').textContent = `of ${document.getElementById('institution').value || '[Institution]'}`;
            document.getElementById('prevUlpId').textContent = document.getElementById('ulpId').value;
            document.getElementById('prevUlcId').textContent = document.getElementById('ulcId').value;
            document.getElementById('prevUlciId').textContent = document.getElementById('ulciId').value;
            document.getElementById('prevScore').textContent = document.getElementById('ulciScore').value || '95%';
            document.getElementById('prevLevel').textContent = document.getElementById('indexLevel').value;
            document.getElementById('prevPlace').textContent = document.getElementById('placeName').value || 'City, State';
            document.getElementById('prevParent').textContent = document.getElementById('parentName').value || '[Parent\'s Name]';
            document.getElementById('prevProgram').textContent = `"${document.getElementById('programTitle').value || '[Program Title]'}"`;
            document.getElementById('prevKnowledge').textContent = document.getElementById('knowledgeScore').value || '95%';
            document.getElementById('prevCreativity').textContent = document.getElementById('creativity').value || 'Advanced';
            document.getElementById('prevCollaboration').textContent = document.getElementById('collaboration').value || '88%';
            document.getElementById('prevLeadership').textContent = document.getElementById('leadership').value || 'High Impact';
            
            const date = new Date(document.getElementById('dateIssued').value);
            document.getElementById('prevDate').textContent = date.toLocaleDateString('en-US', {year:'numeric',month:'long',day:'numeric'});
            document.getElementById('prevVerifier').textContent = document.getElementById('verifiedBy').value || '[Mentor Name]';
            document.getElementById('prevCredId').textContent = `UNETS-CERT-2025-${Date.now().toString().slice(-9)}`;
            
            generateQR(document.getElementById('ulcId').value);
        }
        
        // QR Code
        function generateQR(ulcId) {
            const container = document.getElementById('qrContainer');
            const existing = container.querySelector('.qr-canvas');
            if (existing) existing.remove();
            
            const qrDiv = document.createElement('div');
            qrDiv.className = 'qr-canvas';
            qrDiv.style.cssText = 'position:absolute;top:2mm;left:2mm;width:21mm;height:21mm;';
            container.insertBefore(qrDiv, container.firstChild);
            
            try {
                new QRCode(qrDiv, {
                    text: `https://verify.education.onsnc.org/${ulcId}`,
                    width: 80,
                    height: 80,
                    colorDark: '#ffffff',
                    colorLight: 'transparent'
                });
            } catch(e) {
                qrDiv.innerHTML = '<div style="color:white;font-size:10px;text-align:center;line-height:80px;">QR</div>';
            }
        }
        
        // Form Submit
        document.getElementById('certificateForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const learnerName = document.getElementById('learnerName').value;
            if (!learnerName) {
                alert('Please enter learner name');
                return;
            }
            
            updatePreview();
            
            alert('Certificate data saved! Preview updated. Click "Download PDF" to get your certificate.');
            
            document.getElementById('certificateForm').scrollIntoView({behavior:'smooth'});
            setTimeout(() => {
                document.querySelector('.certificate-section').scrollIntoView({behavior:'smooth'});
            }, 500);
        });
        
        // PDF Download
        document.getElementById('downloadBtn').addEventListener('click', async () => {
            const btn = document.getElementById('downloadBtn');
            btn.disabled = true;
            btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Generating PDF...';
            
            try {
                await new Promise(resolve => setTimeout(resolve, 500));
                
                const cert = document.getElementById('certificate');
                
                const canvas = await html2canvas(cert, {
                    scale: 3,
                    useCORS: true,
                    backgroundColor: '#ffffff',
                    width: 794,
                    height: 1123
                });
                
                const imgData = canvas.toDataURL('image/png', 1.0);
                
                const { jsPDF } = window.jspdf;
                const pdf = new jsPDF({
                    orientation: 'portrait',
                    unit: 'mm',
                    format: 'a4'
                });
                
                pdf.addImage(imgData, 'PNG', 0, 0, 210, 297);
                
                const name = document.getElementById('learnerName').value.replace(/[^a-zA-Z0-9]/g, '_') || 'Certificate';
                const ulcId = document.getElementById('ulcId').value;
                pdf.save(`ULC_Certificate_${name}_${ulcId}.pdf`);
                
                alert('PDF Downloaded Successfully! âœ“\n\nCertificate Size: A4 (210mm x 297mm)');
            } catch(error) {
                console.error(error);
                alert('Error generating PDF. Please try again.');
            } finally {
                btn.disabled = false;
                btn.innerHTML = '<i class="fas fa-download"></i> Download PDF Certificate (A4 Size)';
            }
        });
        
        // Auto-update on input
        document.querySelectorAll('#certificateForm input, #certificateForm select').forEach(input => {
            input.addEventListener('input', () => {
                clearTimeout(window.updateTimer);
                window.updateTimer = setTimeout(updatePreview, 300);
            });
        });
        
        // Initial update
        updatePreview();
        
        console.log('âœ“ UNETS System Ready');
        console.log('âœ“ Hamburger Menu: Right Side - Working');
        console.log('âœ“ Layout Order: Dashboard â†’ Form â†’ Certificate');
        console.log('âœ“ PDF Size: A4 (210mm x 297mm)');
    </script>
</body>
</html>
