<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UEITI Assessment Report Card</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f5f5f5;
            color: #333;
            line-height: 1.6;
        }

        .report-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
            background: white;
        }

        .report-header {
            text-align: center;
            padding: 50px 30px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 20px;
            margin-bottom: 40px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
        }

        .report-header h1 {
            font-size: 2.8em;
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .report-header .subtitle {
            font-size: 1.3em;
            opacity: 0.95;
            margin-bottom: 10px;
        }

        .quantum-badge {
            display: inline-block;
            padding: 10px 25px;
            background: rgba(255,255,255,0.2);
            border-radius: 25px;
            margin-top: 15px;
            font-size: 0.9em;
        }

        .institute-info {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            padding: 35px;
            border-radius: 15px;
            margin-bottom: 30px;
            color: white;
            box-shadow: 0 8px 30px rgba(0,0,0,0.1);
        }

        .institute-info h2 {
            font-size: 2.2em;
            margin-bottom: 20px;
            border-bottom: 2px solid rgba(255,255,255,0.3);
            padding-bottom: 15px;
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 25px;
        }

        .info-item {
            background: rgba(255,255,255,0.15);
            padding: 15px;
            border-radius: 10px;
            backdrop-filter: blur(10px);
        }

        .info-item .label {
            font-size: 0.85em;
            opacity: 0.9;
            margin-bottom: 5px;
        }

        .info-item .value {
            font-size: 1.2em;
            font-weight: 600;
        }

        .section {
            background: white;
            padding: 35px;
            margin-bottom: 30px;
            border-radius: 15px;
            border-left: 5px solid #667eea;
            box-shadow: 0 5px 20px rgba(0,0,0,0.08);
        }

        .section h3 {
            font-size: 1.8em;
            margin-bottom: 25px;
            color: #667eea;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .section .icon {
            font-size: 1.3em;
        }

        .ulci-mega-display {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            padding: 60px 40px;
            border-radius: 25px;
            text-align: center;
            color: white;
            margin: 40px 0;
            box-shadow: 0 15px 50px rgba(17, 153, 142, 0.3);
            position: relative;
            overflow: hidden;
        }

        .ulci-mega-display::before {
            content: 'üåç';
            position: absolute;
            font-size: 25em;
            opacity: 0.05;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .ulci-mega-display h2 {
            font-size: 2.5em;
            margin-bottom: 25px;
            position: relative;
        }

        .ulci-score {
            font-size: 7em;
            font-weight: bold;
            margin: 30px 0;
            position: relative;
            text-shadow: 3px 3px 10px rgba(0,0,0,0.2);
        }

        .ulci-level {
            font-size: 1.8em;
            padding: 15px 40px;
            background: rgba(255,255,255,0.25);
            border-radius: 30px;
            display: inline-block;
            margin-top: 20px;
            backdrop-filter: blur(10px);
        }

        .ulci-breakdown {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 25px;
            margin-top: 40px;
            position: relative;
        }

        .ulci-component {
            background: rgba(255,255,255,0.2);
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            backdrop-filter: blur(10px);
        }

        .ulci-component .icon {
            font-size: 3em;
            margin-bottom: 15px;
        }

        .ulci-component .name {
            font-size: 1em;
            margin-bottom: 10px;
            opacity: 0.95;
        }

        .ulci-component .score {
            font-size: 2.5em;
            font-weight: bold;
        }

        .ulci-component .weight {
            font-size: 0.85em;
            opacity: 0.85;
            margin-top: 8px;
        }

        .dimension-scores {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            margin: 30px 0;
        }

        .dimension-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            color: white;
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
            transition: transform 0.3s;
        }

        .dimension-card:hover {
            transform: translateY(-5px);
        }

        .dimension-card .category {
            font-size: 2.5em;
            margin-bottom: 15px;
        }

        .dimension-card .name {
            font-size: 1.1em;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .dimension-card .score {
            font-size: 3.5em;
            font-weight: bold;
            margin: 20px 0;
        }

        .dimension-card .details {
            font-size: 0.9em;
            opacity: 0.9;
            margin-top: 10px;
        }

        .institutional-score {
            background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
            padding: 50px;
            border-radius: 20px;
            text-align: center;
            color: white;
            margin: 40px 0;
            box-shadow: 0 10px 40px rgba(250, 112, 154, 0.3);
        }

        .institutional-score h2 {
            font-size: 2.2em;
            margin-bottom: 20px;
        }

        .institutional-score .score {
            font-size: 6em;
            font-weight: bold;
            margin: 25px 0;
            text-shadow: 2px 2px 8px rgba(0,0,0,0.2);
        }

        .institutional-score .level {
            font-size: 1.6em;
            padding: 12px 35px;
            background: rgba(255,255,255,0.25);
            border-radius: 30px;
            display: inline-block;
            backdrop-filter: blur(10px);
        }

        .qualitative-section {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            padding: 35px;
            border-radius: 15px;
            margin: 30px 0;
        }

        .qualitative-section h3 {
            color: #333;
            margin-bottom: 20px;
        }

        .qualitative-item {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 15px;
            box-shadow: 0 3px 15px rgba(0,0,0,0.08);
        }

        .qualitative-item h4 {
            color: #667eea;
            margin-bottom: 10px;
            font-size: 1.2em;
        }

        .qualitative-item p {
            color: #555;
            line-height: 1.8;
        }

        .blockchain-credentials {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            padding: 40px;
            border-radius: 20px;
            margin: 40px 0;
            color: white;
            position: relative;
            overflow: hidden;
        }

        .blockchain-credentials::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.05) 1px, transparent 1px);
            background-size: 30px 30px;
            animation: rotateGrid 30s linear infinite;
        }

        @keyframes rotateGrid {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .blockchain-content {
            position: relative;
            z-index: 1;
            display: grid;
            grid-template-columns: auto 1fr;
            gap: 40px;
            align-items: center;
        }

        .qr-container {
            background: white;
            padding: 20px;
            border-radius: 15px;
            display: inline-block;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
        }

        .credential-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }

        .credential-field {
            background: rgba(255,255,255,0.1);
            padding: 15px;
            border-radius: 10px;
            backdrop-filter: blur(10px);
        }

        .credential-field .label {
            font-size: 0.85em;
            opacity: 0.9;
            margin-bottom: 8px;
        }

        .credential-field .value {
            font-size: 0.95em;
            font-weight: 600;
            font-family: 'Courier New', monospace;
            word-break: break-all;
        }

        .infrastructure-checklist {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 25px 0;
        }

        .infrastructure-item {
            background: #f8f9fa;
            padding: 15px 20px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            gap: 12px;
            border-left: 4px solid #667eea;
        }

        .infrastructure-item.enabled {
            background: linear-gradient(135deg, #d4fc79 0%, #96e6a1 100%);
            border-left-color: #11998e;
        }

        .infrastructure-item .icon {
            font-size: 1.5em;
        }

        .infrastructure-item .text {
            font-weight: 600;
            color: #333;
        }

        .table-container {
            overflow-x: auto;
            margin: 25px 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 3px 15px rgba(0,0,0,0.08);
        }

        th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 18px;
            text-align: left;
            font-weight: 600;
        }

        td {
            padding: 15px 18px;
            border-bottom: 1px solid #e0e0e0;
        }

        tr:hover {
            background: #f8f9fa;
        }

        .rating-display {
            display: inline-flex;
            gap: 5px;
        }

        .rating-star {
            width: 25px;
            height: 25px;
            background: linear-gradient(135deg, #ffd700, #ffed4e);
            clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%);
        }

        .rating-star.empty {
            background: #ddd;
        }

        .footer {
            text-align: center;
            padding: 40px 20px;
            background: #f8f9fa;
            border-radius: 15px;
            margin-top: 40px;
            color: #666;
        }

        .footer p {
            margin: 8px 0;
        }

        @media print {
            body {
                background: white;
            }
            
            .section, .report-container {
                box-shadow: none;
                page-break-inside: avoid;
            }
            
            .report-header, .ulci-mega-display, .institutional-score, .blockchain-credentials {
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
            }
        }

        @media (max-width: 768px) {
            .report-header h1 {
                font-size: 2em;
            }
            
            .ulci-score {
                font-size: 4em;
            }
            
            .institutional-score .score {
                font-size: 4em;
            }
            
            .blockchain-content {
                grid-template-columns: 1fr;
                text-align: center;
            }
            
            .info-grid, .dimension-scores {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="report-container">
        <!-- Report Header -->
        <div class="report-header">
            <h1>üèõÔ∏è UEITI INSTITUTIONAL ASSESSMENT</h1>
            <div class="subtitle">OFFICIAL REPORT CARD</div>
            <div class="subtitle">Universal Holistic Assessment Network 360¬∞ (UHAN 360¬∞)</div>
            <div class="quantum-badge">
                ‚öõÔ∏è Quantum Blockchain Verified | üî¨ AI Nano Authenticated
            </div>
        </div>

        <!-- Institute Information -->
        <div class="institute-info">
            <h2 id="instituteName">Institute Name</h2>
            <div class="info-grid">
                <div class="info-item">
                    <div class="label">ULCI ID</div>
                    <div class="value" id="ulciId">-</div>
                </div>
                <div class="info-item">
                    <div class="label">ULP Token ID</div>
                    <div class="value" id="tokenId">-</div>
                </div>
                <div class="info-item">
                    <div class="label">Region / Node</div>
                    <div class="value" id="region">-</div>
                </div>
                <div class="info-item">
                    <div class="label">Email</div>
                    <div class="value" id="email">-</div>
                </div>
                <div class="info-item">
                    <div class="label">Phone</div>
                    <div class="value" id="phone">-</div>
                </div>
                <div class="info-item">
                    <div class="label">Total Staff</div>
                    <div class="value" id="totalStaff">-</div>
                </div>
                <div class="info-item">
                    <div class="label">Website</div>
                    <div class="value" id="website">-</div>
                </div>
                <div class="info-item">
                    <div class="label">Assessment Date</div>
                    <div class="value" id="assessmentDate">-</div>
                </div>
            </div>
        </div>

        <!-- ULCI Score Display -->
        <div class="ulci-mega-display">
            <h2>üåç UNIVERSAL LIFE CONTRIBUTION INDEX (ULCI)</h2>
            <div class="ulci-score" id="ulciScore">0.0</div>
            <div class="ulci-level" id="ulciLevel">Calculating...</div>
            
            <div class="ulci-breakdown">
                <div class="ulci-component">
                    <div class="icon">üå±</div>
                    <div class="name">Environmental</div>
                    <div class="score" id="ulciE">0</div>
                    <div class="weight">Weight: 25%</div>
                </div>
                <div class="ulci-component">
                    <div class="icon">üßç‚Äç‚ôÄÔ∏è</div>
                    <div class="name">Social & Civic</div>
                    <div class="score" id="ulciS">0</div>
                    <div class="weight">Weight: 20%</div>
                </div>
                <div class="ulci-component">
                    <div class="icon">üé®</div>
                    <div class="name">Cultural & Education</div>
                    <div class="score" id="ulciC">0</div>
                    <div class="weight">Weight: 15%</div>
                </div>
                <div class="ulci-component">
                    <div class="icon">üßò</div>
                    <div class="name">Health & Well-being</div>
                    <div class="score" id="ulciH">0</div>
                    <div class="weight">Weight: 20%</div>
                </div>
                <div class="ulci-component">
                    <div class="icon">üí°</div>
                    <div class="name">Innovation & Ethics</div>
                    <div class="score" id="ulciI">0</div>
                    <div class="weight">Weight: 20%</div>
                </div>
            </div>
        </div>

        <!-- Institutional Score -->
        <div class="institutional-score">
            <h2>Total Institutional Impact Score</h2>
            <div class="score" id="institutionalScore">0%</div>
            <div class="level" id="institutionalLevel">Calculating...</div>
        </div>

        <!-- Dimension Scores -->
        <div class="section">
            <h3><span class="icon">‚öôÔ∏è</span> Core Dimensions Assessment</h3>
            <div class="dimension-scores" id="dimensionScores"></div>
        </div>

        <!-- Qualitative Insights -->
        <div class="qualitative-section">
            <h3>üß† Qualitative Insights</h3>
            <div id="qualitativeContent"></div>
        </div>

        <!-- Infrastructure Checklist -->
        <div class="section">
            <h3><span class="icon">üß©</span> Digital Infrastructure</h3>
            <div class="infrastructure-checklist" id="infrastructureList"></div>
        </div>

        <!-- Training Modules -->
        <div class="section">
            <h3><span class="icon">üè´</span> Training Ecosystem</h3>
            <div class="table-container">
                <table id="trainingTable">
                    <thead>
                        <tr>
                            <th>Program Type</th>
                            <th>Modules Offered</th>
                        </tr>
                    </thead>
                    <tbody id="trainingBody"></tbody>
                </table>
            </div>
        </div>

        <!-- Blockchain Credentials -->
        <div class="blockchain-credentials">
            <div class="blockchain-content">
                <div>
                    <div class="qr-container" id="qrCode"></div>
                    <div style="text-align: center; margin-top: 15px; font-weight: 600;">Scan for Verification</div>
                </div>
                
                <div class="credential-info">
                    <div class="credential-field">
                        <div class="label">Blockchain Hash</div>
                        <div class="value" id="blockchainHash">-</div>
                    </div>
                    <div class="credential-field">
                        <div class="label">Quantum Signature</div>
                        <div class="value" id="quantumSignature">-</div>
                    </div>
                    <div class="credential-field">
                        <div class="label">Nano Chip ID</div>
                        <div class="value" id="nanoChipId">-</div>
                    </div>
                    <div class="credential-field">
                        <div class="label">Validated By</div>
                        <div class="value" id="validatedBy">-</div>
                    </div>
                    <div class="credential-field">
                        <div class="label">Validator Name</div>
                        <div class="value" id="validatorName">-</div>
                    </div>
                    <div class="credential-field">
                        <div class="label">Issue Date</div>
                        <div class="value" id="issueDate">-</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p><strong>Powered by UHAN 360¬∞ | Quantum Blockchain Technology | AI Nano Chip System</strong></p>
            <p>¬© 2025 Universal Education & Innovation Training Institute</p>
            <p>This is an official digitally verified document</p>
        </div>
    </div>

    <script>
        // Listen for updates from parent window
        window.addEventListener('message', function(event) {
            if (event.data.type === 'UPDATE_REPORT') {
                updateReport(event.data.data);
            }
        });

        function updateReport(data) {
            if (!data) return;

            // Update Institute Info
            if (data.institute) {
                document.getElementById('instituteName').textContent = data.institute.name || 'Institute Name';
                document.getElementById('ulciId').textContent = data.institute.ulciId || '-';
                document.getElementById('tokenId').textContent = data.institute.tokenId || '-';
                document.getElementById('region').textContent = data.institute.region || '-';
                document.getElementById('email').textContent = data.institute.email || '-';
                document.getElementById('phone').textContent = data.institute.phone || '-';
                document.getElementById('totalStaff').textContent = data.institute.totalStaff || '-';
                document.getElementById('website').textContent = data.institute.website || '-';
                document.getElementById('assessmentDate').textContent = data.institute.assessmentDate || '-';
            }

            // Update ULCI Scores
            if (data.ulci) {
                document.getElementById('ulciE').textContent = data.ulci.E || 0;
                document.getElementById('ulciS').textContent = data.ulci.S || 0;
                document.getElementById('ulciC').textContent = data.ulci.C || 0;
                document.getElementById('ulciH').textContent = data.ulci.H || 0;
                document.getElementById('ulciI').textContent = data.ulci.I || 0;
                document.getElementById('ulciScore').textContent = data.ulci.total || '0.0';
                document.getElementById('ulciLevel').textContent = data.ulci.level?.text || 'Calculating...';
            }

            // Update Institutional Score
            if (data.institutional) {
                document.getElementById('institutionalScore').textContent = data.institutional.score + '%';
                document.getElementById('institutionalLevel').textContent = data.institutional.level?.text || 'Calculating...';
            }

            // Update Dimensions
            if (data.dimensions) {
                const container = document.getElementById('dimensionScores');
                container.innerHTML = '';
                data.dimensions.forEach(dim => {
                    const score = (dim.rating / 5) * 100;
                    const card = document.createElement('div');
                    card.className = 'dimension-card';
                    card.innerHTML = `
                        <div class="category">${dim.category}</div>
                        <div class="name">${dim.name}</div>
                        <div class="score">${score.toFixed(0)}%</div>
                        <div class="rating-display">
                            ${generateStars(dim.rating)}
                        </div>
                        <div class="details">Weight: ${dim.weight}%</div>
                        ${dim.remarks ? `<div style="margin-top: 10px; font-size: 0.9em; opacity: 0.9;">${dim.remarks}</div>` : ''}
                    `;
                    container.appendChild(card);
                });
            }

            // Update Qualitative
            if (data.qualitative) {
                const container = document.getElementById('qualitativeContent');
                container.innerHTML = '';
                
                const items = [
                    { title: 'üí™ Strengths', content: data.qualitative.strengths },
                    { title: 'üéØ Areas for Improvement', content: data.qualitative.improvements },
                    { title: 'üí° Key Innovations', content: data.qualitative.innovations },
                    { title: 'üåç Civilizational Contribution', content: data.qualitative.contribution }
                ];

                items.forEach(item => {
                    if (item.content) {
                        const div = document.createElement('div');
                        div.className = 'qualitative-item';
                        div.innerHTML = `
                            <h4>${item.title}</h4>
                            <p>${item.content}</p>
                        `;
                        container.appendChild(div);
                    }
                });
            }

            // Update Infrastructure
            if (data.infrastructure) {
                const container = document.getElementById('infrastructureList');
                container.innerHTML = '';
                
                const items = [
                    { key: 'firestore', icon: 'üíæ', text: 'Firestore / AI Database Sync' },
                    { key: 'dao', icon: 'üèõÔ∏è', text: 'DAO Governance System' },
                    { key: 'robotics', icon: 'ü§ñ', text: 'Robotics Assistance' },
                    { key: 'whiteboards', icon: 'üì∫', text: 'Digital Whiteboards' },
                    { key: 'blockchain', icon: '‚õìÔ∏è', text: 'Blockchain Badge Integration' },
                    { key: 'nanoChip', icon: 'üî¨', text: 'AI Nano Chip SIM' }
                ];

                items.forEach(item => {
                    const div = document.createElement('div');
                    div.className = `infrastructure-item ${data.infrastructure[item.key] ? 'enabled' : ''}`;
                    div.innerHTML = `
                        <div class="icon">${data.infrastructure[item.key] ? '‚úÖ' : '‚ùå'}</div>
                        <div class="text">${item.text}</div>
                    `;
                    container.appendChild(div);
                });
            }

            // Update Training
            if (data.training) {
                const tbody = document.getElementById('trainingBody');
                tbody.innerHTML = '';
                
                const programs = [
                    { icon: 'üåê', name: 'AI & Digital Co-Teaching', modules: data.training.aiModules },
                    { icon: 'üß≠', name: 'Sustainability Leadership', modules: data.training.sustainModules },
                    { icon: 'üßò', name: 'Holistic Human Development', modules: data.training.holisticModules },
                    { icon: 'üî¨', name: 'Innovation & Research', modules: data.training.innovationModules }
                ];

                programs.forEach(prog => {
                    if (prog.modules) {
                        const row = document.createElement('tr');
                        row.innerHTML = `
                            <td>${prog.icon} <strong>${prog.name}</strong></td>
                            <td>${prog.modules}</td>
                        `;
                        tbody.appendChild(row);
                    }
                });
            }

            // Update Credentials
            if (data.validation) {
                document.getElementById('blockchainHash').textContent = data.validation.blockchainHash || '-';
                document.getElementById('quantumSignature').textContent = data.validation.quantumSignature || '-';
                document.getElementById('nanoChipId').textContent = data.validation.nanoChipId || '-';
                document.getElementById('validatedBy').textContent = data.validation.daoCouncil || '-';
                document.getElementById('validatorName').textContent = data.validation.validatorName || '-';
                document.getElementById('issueDate').textContent = data.validation.issueDate || '-';

                // Generate QR Code
                generateQRCode(data);
            }
        }

        function generateStars(rating) {
            let stars = '';
            for (let i = 1; i <= 5; i++) {
                stars += `<div class="rating-star ${i > rating ? 'empty' : ''}"></div>`;
            }
            return stars;
        }

        function generateQRCode(data) {
            const qrContainer = document.getElementById('qrCode');
            qrContainer.innerHTML = '';
            
            const qrData = JSON.stringify({
                institute: data.institute?.name || 'Institute',
                ulciId: data.institute?.ulciId || '',
                ulciScore: data.ulci?.total || '0',
                blockchainHash: data.validation?.blockchainHash || '',
                timestamp: data.validation?.timestamp || new Date().toISOString(),
                type: 'UEITI-ASSESSMENT-REPORT'
            });
            
            try {
                new QRCode(qrContainer, {
                    text: qrData,
                    width: 200,
                    height: 200,
                    colorDark: "#000000",
                    colorLight: "#ffffff",
                    correctLevel: QRCode.CorrectLevel.H
                });
            } catch (error) {
                console.error('QR Code generation error:', error);
                qrContainer.innerHTML = '<div style="padding: 20px; background: white; border-radius: 10px;">QR Code</div>';
            }
        }

        // Load initial data if available
        window.addEventListener('load', function() {
            console.log('üìä Report Card Loaded and Ready');
            
            // Try to load latest assessment from localStorage
            const latestId = localStorage.getItem('latest_assessment');
            if (latestId) {
                const savedData = localStorage.getItem(latestId);
                if (savedData) {
                    try {
                        const data = JSON.parse(savedData);
                        updateReport(data);
                        console.log('Loaded saved assessment:', latestId);
                    } catch (error) {
                        console.error('Error loading saved data:', error);
                    }
                }
            }
        });
    </script>
</body>
</html>